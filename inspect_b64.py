import base64
import io
from pydub import AudioSegment
import os

b64_data = "SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU2LjM2LjEwMAAAAAAA//OEAAAAAAAAAAAAAAAAAAAAAABYaW5nAAAADwAAAAwAAACEALi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4AAAAATGF2ZjU2LjM2LjEwMAAAAAAAAAAAAAAAACQAAAAAAAAAAIQAg8f+77MAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//MUZAAAAAAGSAAAAAAAAAMuK6oNoAAAAAAAABmR3QAgAAAAAAAADY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAY6uA4AAAAAAAAAZkd0AIAAAAAAAAAA=="

decoded = base64.b64decode(b64_data)
print(f"Decoded length: {len(decoded)}")
with open("test.mp3", "wb") as f:
    f.write(decoded)

try:
    audio = AudioSegment.from_file("test.mp3", format="mp3")
    print("Success loading with pydub")
except Exception as e:
    print(f"Failed loading with pydub: {e}")
